!function(){var e,n,t={2858:function(e){e.exports=function(e){if(Array.isArray(e))return e}},3646:function(e){e.exports=function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}},9713:function(e){e.exports=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}},6860:function(e){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},3884:function(e){e.exports=function(e,n){var t=[],o=!0,r=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(o=(c=i.next()).done)&&(t.push(c.value),!n||t.length!==n);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(r)throw a}}return t}},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},693:function(e,n,t){var o=t(9713);e.exports=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}},3038:function(e,n,t){var o=t(2858),r=t(3884),a=t(521);e.exports=function(e,n){return o(e)||r(e,n)||a()}},319:function(e,n,t){var o=t(3646),r=t(6860),a=t(8206);e.exports=function(e){return o(e)||r(e)||a()}},8:function(e){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function t(o){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=t=function(e){return n(e)}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},t(o)}e.exports=t},9779:function(e,n,t){"use strict";t.d(n,{XA:function(){return o},vR:function(){return r},Gm:function(){return a},Br:function(){return c},PI:function(){return i}});var o="cted",r="_ct_ids",a="call_s",c={NOT_FIND_SELECTOR:1},i={url:"https://gum.criteo.com/sync",c:391,r:2,j:"window.criteo_callback",cookieName:"calltouchCriteoUserId"}},4380:function(e,n,t){"use strict";function o(){var e;if(e||"undefined"==typeof XMLHttpRequest)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(n){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(n){e=!1}}else e=new XMLHttpRequest;return e}function r(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];try{var c=Boolean(window.event&&window.event.target&&"A"===window.event.target.nodeName),i=Boolean(window.event&&(window.event.target&&"submit"===window.event.target.type||"submit"===window.event.type)),s=o(),l=n?"POST":"GET";s.open(l,e,!c&&!i&&!r),c||i||r||(s.timeout=6e4),a&&(s.withCredentials=!0);var u=null;return"POST"===l&&(s.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01"),s.setRequestHeader("Content-type","application/json"),u=JSON.stringify(n)),s.onreadystatechange=function(){4===s.readyState&&t&&"function"==typeof t&&(200===s.status?t(!0,s.response):0===s.status&&t(!1))},s.send(u),s}catch(e){console.log(e)}}t.d(n,{Qj:function(){return o},ZP:function(){return r}})},9413:function(e,n,t){"use strict";function o(e){var n=document.cookie.match("(?:^|; )"+e+"=([^;]*)");return n?decodeURIComponent(n[1]):null}t.d(n,{Z:function(){return o}})},3186:function(e,n,t){"use strict";t.d(n,{KS:function(){return o},mg:function(){return a},G3:function(){return c}});var o={frontBranch:"frontBranch",backBranch:"backBranch"},r=document.currentScript;function a(){return r&&r.src.split("/").slice(0,3).join("/")}function c(e){var n="mod.calltouch.ru";if("mod.calltouch.ru"===n){var t=r&&r.src.split("/")[2];t&&(n=t)}return n}},8337:function(e,n,t){"use strict";function o(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent("on"+n,(function(){return t.call(e,window.event)}))}t.d(n,{v:function(){return o}})},3621:function(e,n,t){var o={"./autoGoals/autoGoals":[9142,142],"./autoGoals/autoGoals.js":[9142,142],"./dataLayer/dataLayer":[7035,35],"./dataLayer/dataLayer.js":[7035,35],"./dom-observer/dom-observer":[7095,95],"./dom-observer/dom-observer.js":[7095,95],"./forms/forms":[5256,256],"./forms/forms.js":[5256,256],"./historyObserver/historyObserver":[6800,800],"./historyObserver/historyObserver.js":[6800,800],"./widgets/goalObserver":[16,16],"./widgets/goalObserver.js":[16,16],"./widgets/widgets":[7053,53],"./widgets/widgets.js":[7053,53]};function r(e){if(!t.o(o,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=o[e],r=n[0];return t.e(n[1]).then((function(){return t(r)}))}r.keys=function(){return Object.keys(o)},r.id=3621,e.exports=r}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,{a:n}),n},r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(n,t){return r.f[t](e,n),n}),[]))},r.u=function(e){return e+"."+{16:"c07ef65b54850174aa55",35:"d773ecab438e487c3a80",53:"3d0c956036322f987f9e",95:"320955a586d5737aacee",142:"f63fe98540cb8e63a5a3",256:"2cba1aa19f8887b59e83",800:"4f36d81c25ea0e497e37"}[e]+".js"},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},e={},n="calltouch-client:",r.l=function(t,o,a,c){if(e[t])e[t].push(o);else{var i,s;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==n+a){i=d;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",n+a),i.src=t),e[t]=[o];var f=function(n,o){i.onerror=i.onload=null,clearTimeout(p);var r=e[t];if(delete e[t],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(e){return e(o)})),n)return n(o)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),s&&document.head.appendChild(i)}},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="https://mod.calltouch.ru/",function(){var e={725:0};r.f.j=function(n,t){var o=r.o(e,n)?e[n]:void 0;if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,r){o=e[n]=[t,r]}));t.push(o[2]=a);var c=r.p+r.u(n),i=new Error;r.l(c,(function(t){if(r.o(e,n)&&(0!==(o=e[n])&&(e[n]=void 0),o)){var a=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;i.message="Loading chunk "+n+" failed.\n("+a+": "+c+")",i.name="ChunkLoadError",i.type=a,i.request=c,o[1](i)}}),"chunk-"+n,n)}};var n=function(n,t){var o,a,c=t[0],i=t[1],s=t[2],l=0;if(c.some((function(n){return 0!==e[n]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);s&&s(r)}for(n&&n(t);l<c.length;l++)a=c[l],r.o(e,a)&&e[a]&&e[a][0](),e[c[l]]=0},t=self.webpackChunkcalltouch_client=self.webpackChunkcalltouch_client||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}(),function(){"use strict";var e=r(319),n=r.n(e),t=r(693),o=r.n(t),a=r(9713),c=r.n(a),i=document.currentScript;function s(){var e=i&&i.src;if(!e)for(var n=document.getElementsByTagName("script"),t=0;t<n.length;t++)n[t]&&n[t].src&&(null!==n[t].src.match(/calltouch.(ru|net)\/init\.js/)||null!==n[t].src.match(/calltouch.(ru|net)\/init-min\.js/))&&(e=n[t].src);var o=(e?e.replace(/^.{1,}[(\)?]/,"").split("&"):[]).find((function(e){return-1!==e.indexOf("id")}));return o?o.replace(/id=/,""):""}var l=function(e){var t={};return{addNoDataQueueRecord:function(e,o,r){var a=e||o;t[a]||(t[a]=[]),t[a].push(e?[o].concat(n()(r)):n()(r))},clearNoDataQueue:function(o,r){var a=Object.keys(t);if(a.length)for(var c=0;c<a.length;c+=1){var i=a[c],s=r.includes(i);if(i===o||s){for(var l=void 0;l=t[i].shift();){var u,d;s?(u=window)[e].apply(u,[i].concat(n()(l))):(d=window)[e].apply(d,[i,l[0]].concat(n()(l.slice(1))))}delete t[i]}}}}};function u(){return(Number(new Date)+Math.random()).toString(16)}function d(e){return e.replace("www.","").split(".").length}function f(){var e=document.cookie.match(/(?:^|; )call_s=([^;]*)/g),n=d(document.location.hostname),t='"d":'.concat(n);if(!e)return null;for(var o=0;o<e.length;o+=1){var r=decodeURIComponent(e[o].replace("; call_s=",""));if(-1!==r.indexOf(t))return r;e[o]=r}return e[0]}var p=r(9413),h=r(3186);function m(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,p.Z)("_ct"),r=f(),a=(0,p.Z)("_ct_debug_ip"),c=(0,p.Z)("_ct_client_global_id")||"",i=o?"_ct=".concat(o):"",l=r?"call_s=".concat(r):"",d=o?"".concat(i,"; ").concat(l):l,m=o?"":"&uniq_req_id=".concat(n),v=e.createElement("script"),g=(0,h.G3)(h.KS.backBranch),y=t.modId||s();a&&(d="".concat(d,"; _ct_debug_ip=").concat(a)),v.type="text/javascript",v.async=!0;var b=-1!==t.integrationsString.indexOf(";;")?t.integrationsString.substr(0,t.integrationsString.length-1):t.integrationsString;return v.src="https://".concat(g,"/d_client_new.js?param;").concat(b,";ref").concat(encodeURIComponent(e.referrer),";url").concat(encodeURIComponent(e.URL),";cook").concat(encodeURIComponent(d),"&mod_id=").concat(y,"&script_session_id=").concat(u(),"&ctObject=").concat(t.ctObject).concat(m,"&ctClientGlobalId=").concat(c),t.onLoad&&(v.onload=t.onLoad.bind(null,y)),v}var v,g=function(e){var n=e.counters,t=e.loaded,r=e.checkIntegrations,a=e.integrationsToSend,c=e.calltouchObject,i=e.updateCookie,s=document.getElementsByTagName("script")[0],l=Date.now()+""+Math.floor(1e5*Math.random());r(n,!0);for(var u=0;u<n.length;u+=1){var d="",f=a[n[u]];f&&(d=f.join(";"));var p=m(document,l,{integrationsString:d.replace(/=/gi,""),modId:n[u],ctObject:c,onLoad:function(e){t=t.map((function(n){return n.counter===e?o()({},n,{isLoaded:!0}):n}))}});try{s.parentNode.insertBefore(p,s),f&&i(n[u],d)}catch(e){console.log(e)}}},y=function(e,n,t,o,r){var a=e[t.modId];if(a){var c=n.map((function(e){var n=a[e.patternType];if(!n)return{patternType:e.patternType,patternName:e.patternName,patternValue:void 0,error:"PatternType not found"};var t=n.find((function(n){return n[e.patternType]===e.patternName}));return t?{patternType:e.patternType,patternName:e.patternName,patternValue:t.value,error:null}:{patternType:e.patternType,patternName:e.patternName,patternValue:void 0,error:"PatternName not found"}}));o({siteId:t.siteId,modId:t.modId,fields:c})}else r({error:!0,errorText:"No params by modId found"})},b=(v={},function(){var e=[].slice.call(arguments),t=e[0],o=e[1],a=e[2],c=e.slice(3,e.length);if(v[o])return v[o].apply(v,[t,a].concat(n()(c)));r(3621)("./".concat(o,"/").concat(o)).then((function(e){return v[o]=e.default,v[o].apply(v,[t,a].concat(n()(c)))})).catch((function(e){console.log("Calltouch Error: ".concat(o," failed to load: "),e)}))}),I=b;function _(e){for(var n,t=document.getElementsByTagName("script"),o=[],r=(0,h.mg)(),a=0;a<t.length;a++)t[a]&&t[a].src&&((r&&0===t[a].src.indexOf(r+"/d_client_new.js")||null!==t[a].src.match(/calltouch.(ru|net)\/d_client_new\.js/)||t[a].classList.contains("ct_script"))&&o.push(t[a]),e&&(r&&0===t[a].src.indexOf(r+"/init-widget.js")||null!==t[a].src.match(/calltouch.(ru|net)\/init-widget\.js/))&&o.push(t[a]));for(;n=o.shift();)n.remove();if(e){var c=document.querySelector("#CalltouchWidgetFrame");c&&c.remove()}}var w=r(4380);function k(e,n,t,r){try{var a=Boolean(window.event&&window.event.target&&"A"===window.event.target.nodeName),c=Boolean(window.event&&(window.event.target&&"submit"===window.event.target.type||"submit"===window.event.type)),i=(0,w.Qj)(),s=n?"POST":"GET";i.open(s,e,!a&&!c&&!r),a||c||r||(i.timeout=6e4),i.setRequestHeader("Content-type","application/json"),i.onreadystatechange=function(){if(4===i.readyState&&t)if(200===i.status){var e=function(e){var n;try{n=JSON.parse(e)}catch(e){}return n}(i.response);e?e.data?t(!0,o()({},e.data)):e.error?t(!1,o()({},e.error)):t(!1,{type:"unknown_error",message:"Unknown JSON format",details:{}}):t(!1,{type:"unknown_error",message:"JSON parse error",details:{}})}else 0===i.status?t(!1,{type:"unknown_error",message:"Request timeout exceeded or connection reset",details:{}}):t(!1,{type:"unknown_error",message:"Unexpected HTTP code: ".concat(i.statusText),details:{}})},i.send(n)}catch(e){t&&t(!1,{type:"unknown_error",message:"Unexpected js exception",details:{}})}}var C=r(8337);function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=new Date,t=n.getFullYear(),o=n.getMonth(),r=n.getDate();return new Date(t+e,o,r)}function O(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o()({},t)||{},a=r.expires;if(a&&"number"==typeof a){var c=new Date;c.setTime(1e3*a),r.expires=c.toUTCString()}a&&a.toUTCString&&(r.expires=a.toUTCString());var i=encodeURIComponent(n),s="".concat(e,"=").concat(i);for(var l in r)r[l]&&(s+="; ".concat(l,"=").concat(r[l]));s+="; path=/",document.cookie=s}function S(e,n,t){return new Promise((function(o,r){try{var a=T(5),c="ctClientGlobalId=".concat((0,p.Z)("_ct_client_global_id")||"","&domain=").concat(document.location.origin),i="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/global_cookie.php?").concat(c);(0,w.ZP)(i,null,(function(c,i){if(c&&i&&(O("_ct_client_global_id",i,{expires:a}),t&&e)){var s="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/set_external_data.php"),l={modId:n,siteId:t,sessionId:e,ctClientGlobalId:i};(0,w.ZP)(s,l,(function(e){e?o(i):r(null)}))}}),!1,!0)}catch(e){console.error("Calltouch error: ",e)}}))}var N=r(3038),x=r.n(N),P=r(9779);function j(e){var n=e.modId,t=e.sessionId,r=e.endSessionTime,a=e.phones,i=e.domain,s=(0,p.Z)(P.Gm),l=i?d(i):2,u=Object.keys(a).reduce((function(e,n){return o()({},e,c()({},n,a[n].phoneId.toString()))}),{});if(s&&-1!==s.indexOf("<!>"))try{var f=JSON.parse(s.replace(/<!>/g,""));f[n]=[r,t,u],f.d=0===l?1:l,O(P.Gm,"<!>".concat(JSON.stringify(f),"<!>"),{domain:i?".".concat(i):null,expires:r})}catch(e){console.warn("Calltouch call cookie error: ",error)}else{var h,m=(h={},c()(h,n,[r,t,u]),c()(h,"d",l),h);O(P.Gm,"<!>".concat(JSON.stringify(m),"<!>"),{domain:i,expires:r})}}var L="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/send_denial_event.php"),E=function(e){var n="".concat(L,"?siteId=").concat(e.siteId,"&sessionId=").concat(e.sessionId);(0,w.ZP)(n,null,(function(){}))};function M(e){var n=e.siteId,t=e.sessionId,o=e.modId,r=e.setBackendCookie,a=e.setCtCookie,c=e.setLkCookie,i=e.endSessionTime,s=e.phones,l=e.domain,u=e.denialTime,d=e.calltouchDnsHost,f=(e.calltouchObject,(0,p.Z)(P.vR));if(f&&-1!==f.indexOf(o)){var m=function(e){var n,t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=o?decodeURIComponent(o):decodeURIComponent((0,p.Z)(P.vR));if("null"===r)return{siteId:null,sessionId:null};for(var a=r.split("_"),c=0;c<a.length;c+=1){var i=a[c].split(":"),s=x()(i,3),l=s[0],u=s[1],d=s[2];if(l===e){n=d,t=u;break}}return{siteId:t,sessionId:n}}(o,f),v=m.sessionId;v!==t&&O(P.vR,f.replace(v,t))}else O(P.vR,f?f.concat("_".concat(o,":").concat(n,":").concat(t)):"".concat(o,":").concat(n,":").concat(t));if(O("_ct_session_id",t),O("_ct_site_id",n),d){var g=encodeURIComponent(a||(0,p.Z)("_ct_server")||(0,p.Z)("_ct")||""),y=window.location.protocol+"//"+d,b=(0,w.ZP)(y,{ct_server_value:g},null,!1,!0);b&&b.addEventListener("error",(function(){var e="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/calltouchdns_not_available.php");(0,w.ZP)(e,{site_id:n,calltouch_dns_host:d})}))}r&&j({modId:o,sessionId:t,endSessionTime:i,phones:s,domain:l}),a&&O("_ct",a,{expires:T(5)}),c&&O("_tolk",c,{domain:l}),u&&setTimeout(E.bind(null,{siteId:n,sessionId:t}),1e3*u)}var A=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=null;return function(){for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];if(t)e.apply(null,a);else{var i=function(){e.apply(null,a),o=null};o&&clearTimeout(o),o=setTimeout(i,n)}}}((function(e,n,t){var o="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/set_attrs.php");try{var r=n.siteId,a=n.sessionId,c=n.modId;if(e){var i={attrs:e,siteId:r,sessionId:a,modId:c};(0,w.ZP)(o,i,t||null,!1)}}catch(e){console.log(e)}}),1e3,!0),B=function(e){try{var n=(0,p.Z)(P.PI.cookieName);if(!n&&document&&document.body){window.criteo_callback=function(n){n&&n.userid&&(O(P.PI.cookieName,n.userid),A('{"mapped_user_id":"'.concat(n.userid,'","mapping_key":"').concat(P.PI.c,'"}'),e))};var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="".concat(P.PI.url,"?c=").concat(P.PI.c,"&r=").concat(P.PI.r,"&j=").concat(P.PI.j),document.body.appendChild(t)}else A('{"mapped_user_id":"'.concat(n,'","mapping_key":"').concat(P.PI.c,'"}'),e)}catch(e){console.log(e)}},R=null,H=[],D=0;function G(){try{var e={},n=null;if("function"!=typeof window.gtag)return void(++D<=5&&setTimeout(G,5e3));H.forEach((function(t){t&&window.gtag("get",t,"session_id",(function(o){try{if(!o)return;e["ga_user_id_".concat(t)]=o,n&&clearTimeout(n),n=setTimeout((function(){A(JSON.stringify(e),R),e={}}),1e3)}catch(e){console.log(e)}}))}))}catch(e){console.log(e)}}var Z="_ct_dtg_sp",U=null,q=0;function K(){try{var e="",n=document.cookie.match("(?:^|; )_sp_id[^=]*=([^.^;]*)");if(n&&n[1]&&(e=decodeURIComponent(n[1])),!e)return void(++q<=5&&setTimeout(K,5e3));A('{"datago_id":"'.concat(e,'"}'),U,(function(e){if(e)try{window.localStorage.setItem(Z,String(U.sessionId))}catch(e){}}))}catch(e){console.log(e)}}var X=function(e){try{if(window.localStorage.getItem(Z)===String(e.sessionId))return;U=e,K()}catch(e){console.log(e)}},J=function(e){if(e&&document&&document.body){var n=document.createElement("img");n.src=e,n.style.setProperty("display","none","important"),n.style.setProperty("width","0px","important"),n.style.setProperty("height","0px","important"),n.alt="",document.body.appendChild(n)}},V=[{id:"gc",name:"client_id",checkCookie:function(){var e=(0,p.Z)("_ga"),n=e?e.slice(6):null;return n?{id:this.id,integrationName:this.name,value:n}:null},searchRule:function(){var e=window.GoogleAnalyticsObject,n=e&&"string"==typeof e?window[e]:window.ga;if(n&&"function"==typeof n&&n.getAll){var t=n.getAll()[0],o=t?t.get("clientId"):null;if(o)return{id:this.id,integrationName:this.name,value:o}}return null}},{id:"yc",name:"ya_client_id",checkCookie:function(){var e=(0,p.Z)("_ym_uid");return e?{id:this.id,integrationName:this.name,value:e}:null},searchRule:function(){if(window.ym&&window.ym.a&&window.ym.a[0]){var e=window["yaCounter".concat(window.ym.a[0][0])];if(e&&e.getClientID)return{id:this.id,integrationName:this.name,value:e.getClientID()}}for(var n in window)if("y"===n[0]&&-1!==n.indexOf("yaCounter")&&window[n]&&window[n].getClientID)return{id:this.id,integrationName:this.name,value:window[n].getClientID()};return null}},{id:"cri",name:"client_ref_id",searchRule:function(){var e=window.location.search.split("&").find((function(e){return-1!==e.indexOf("client_ref_id")})),n=e&&e.replace(/(\?|(client_ref_id=))/gm,"");return n?{id:this.id,integrationName:this.name,value:n}:null}},{id:"fb",name:"fbp",checkCookie:function(){var e=(0,p.Z)("_fbp");return e?{id:this.id,integrationName:this.name,value:e}:null},searchRule:function(){return null}}];function F(){var e=(0,p.Z)(P.XA);return!e||-1!==e.indexOf("modId")&&-1===e.indexOf(":")?e?e.split("|"):[]:(O(P.XA,""),[])}var Q=function(){var e={},t={},r={};function a(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var r=F(),a=[];t.forEach((function(t){e[t]||(e[t]=[]);var c=o?r.find((function(e){return-1!==e.indexOf(t)})):void 0;c?e[t]=n()(c.substr(c.indexOf(";")+1,c.length).split(";")):(a.length||V.forEach((function(e){var n=e.searchRule()||e.checkCookie&&e.checkCookie();n&&a.push("".concat(n.integrationName,"=").concat(n.value))})),e[t]=a.concat())}))}catch(e){console.error("Calltouch integrations error: ",e)}}function i(e,n){t[e]||(t[e]=[]),n.forEach((function(n){t[e].push(n)})),l(e,n.join(";"),!0)}function s(e){return e.map((function(e){var n=e.split(";"),t=[];return n.filter((function(e){var n=e.split("=")[0];return!(n&&t.includes(n)||(t.push(n),0))})).join(";")}))}function l(o,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r&&r.length)try{var c=(0,p.Z)(P.XA),i=c&&c.length?c.split("|"):[],l=i.findIndex((function(e){return-1!==e.indexOf(o)})),u="modId=".concat(o,";").concat(r);-1!==l?i[l]=a?"".concat(i[l],";").concat(r):u:i.push(u);var d=s(i);O(P.XA,d.join("|")),e[o]&&(t[o]=n()(e[o]),e[o].length=0)}catch(e){console.error("Calltouch integrations error: ",e)}}return{checkIntegrations:a,integrationsToSend:e,updateIntegrations:function n(s,l,u){var d=r[s]||1;if(d<=15){if(r[s]=d+1,a([s],!1),e[s]&&e[s].length)try{var f=[];if(e[s].forEach((function(e){(t[s]?t[s].find((function(n){return n===e})):void 0)||f.push(e)})),f.length>0&&u&&l){var p="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/set_external_data.php?id=").concat(s),m=f.reduce((function(e,n){var t=n.split("="),r=x()(t,2),a=r[0],i=r[1];return o()({},e,c()({},a,i))}),{}),v=o()({modId:s,siteId:u,sessionId:l},m);(0,w.ZP)(p,v,i.bind(null,s,f))}}catch(e){console.error("Calltouch integrations error: ",e)}window.setTimeout(n.bind(null,s,l,u),1e3)}},updateCookie:l}},Y=r(8),W=r.n(Y);function z(e){var n=/\D/gi;function t(e,t,o,r,a){var c=r+a,i=r.substr(0,1),s=a.substr(0,1),l=e.split(""),u=[],d="full",f=0;function p(e,n,t,o){for(var r=0,a=0;a<n.length;a+=1){var c=l[e+=0===a?0:1];if(/\s/g.test(c)||" "===c||isNaN(Number(c)))u.push(c);else if(u.push(t[r]||""),(r+=1)===o.length){t.length>o.length&&u.push(t.substr(o.length,t.length));break}}return e}for(;f<l.length+50;f+=1){var h=l[f];if(h===i||h===s){var m=e.substr(f,e.length),v=m.replace(n,""),g=v.substr(0,c.length),y=v.substr(0,a.length);g===c?(f=p(f,m,t,r),f=p(f+=1,e.substr(f,e.length),o,a)):y===a?(d="part",f=p(f,e.substr(f,e.length),o,a)):u.push(h)}else{if(void 0===h)break;u.push(h)}}return{value:u.join(""),type:d,oldCode:r,newCode:t,newPhone:o,oldPhone:a}}var o=e.data,r=o.links,a=o.elements,c=o.params,i=o.replacementId,s=c.map((function(e){return e.phone_code+e.phone_number})),l=[],u=[];if(r)for(var d=function(e){var t=r[e];if(!t.href||!t.href.toLowerCase)return"continue";var o=t.href.toLowerCase(),a=-1!==o.indexOf("tel:")||-1!==o.indexOf("callto:"),i=a?t.href.replace(n,""):"",u=a?s.findIndex((function(e){return-1!==i.indexOf(e)})):-1;if(-1!==u){var d=t.href,f=c[u],p=f.value_code,h=f.value_phone;d=function(e,t,o){var r=-1!==e.indexOf("callto"),a=(r?e.replace("callto:",""):e.replace("tel:","")).replace(n,"")[0];return(r?"callto":"tel")+":"+("8"===a?"":"+")+a+t+o}(t.href,p,h),l.push({id:t.id,newHref:d,replacedText:""})}},f=0;f<r.length;f+=1)d(f);if(a)for(f=0;f<a.length;f+=1){var p=a[f],h=c[p.oldPhoneIndex],m=h.value_code,v=h.value_phone,g=h.phone_code,y=h.phone_number,b=t(p.content,m,v,g,y);u.push({id:p.id,replacedText:b,prevText:p.content})}var I={links:l,elements:u,replacementId:i};if(e.noPost)return{data:I};postMessage(I)}var $="\n    onmessage = ".concat(z.toString(),"\n");function ee(e,n){if(3!==e.nodeType&&e.querySelector(n))return!0;for(var t=0,o=e.childNodes.length;t<o;t+=1)ee(e.childNodes[t],n)}function ne(e,n){if(e.innerHTML&&-1!==JSON.stringify(e.innerHTML).indexOf(n))return!0;for(var t=0,o=e.childNodes.length;t<o;t+=1)ne(e.childNodes[t],n)}var te=function(e){if(-1!==e.indexOf(":has")||-1!==e.indexOf(":contains")){var n=-1!==e.indexOf(":contains"),t=n?e.indexOf(":contains"):e.indexOf(":has"),o=-1!==e.substr(0,t).indexOf(":not("),r=document.querySelectorAll(":scope ".concat(e.substr(0,o?t-5:t))),a=e.substr(n?t+11:t+5,e.length).split(")")[0],c=e.substr(n?t+11+a.length+1:t+5+a.length+1,e.length);")"===c&&(c="");var i=[];return r.forEach((function(e){var t=n?ne(e,a.substr(0,a.length-1)):ee(e,a);if(!o&&t||o&&!t){var r=c&&c.length&&e.querySelectorAll(c);r?[].slice.call(r).forEach((function(e){i.push(e)})):i.push(e)}})),i}return document.querySelectorAll(":scope ".concat(e))},oe=[":not(script)",":not(link)",":not(img)",":not(svg)",":not(path)",":not(style)",":not(noscript)",":not(iframe)",":not(input)",":not(select)",":not(option)",":not(textarea)",":not(head)",":not(meta)",":not(body)",":not(br)",":not(title)"],re=["SCRIPT","LINK","IMG","SVG","PATH","STYLE","NOSCRIPT","IFRAME","INPUT","SELECT","OPTION","TEXTAREA","HEAD","META","BODY","BR","TITLE"],ae=/\d/;function ce(e,n){if(1===e.childNodes.length&&3===e.firstChild.nodeType){var t=document.createElement("span");t.innerHTML=n,e.firstChild.textContent=t.textContent}else e.innerHTML=n}function ie(e,n,t){var o=n.oldCode,r=n.newCode;return e.substring(0,t)+e.substring(t).replace(o,r)}function se(e,n,t){n.value;var o=n.oldCode,r=(n.newCode,n.oldPhone,e&&"body"!==e.tagName&&e.innerHTML);if(r&&-1!==r.indexOf(o)){var a=t?r.indexOf(t):-1,c=a<0?r:r.substring(0,a),i=c.lastIndexOf(o);if(i>=0&&!ae.test(c.substring(i+o.length)))return{node:e,index:i}}return null}function le(e,n){var t=n.value,o=n.oldCode,r=e.innerHTML,a=null,c=e.previousSibling,i=c&&(c.innerHTML||c.nodeValue);i&&-1!==i.indexOf(o)&&(a={node:c,index:i.lastIndexOf(o)});var s=e.previousElementSibling;!a&&s&&s.innerHTML&&-1!==s.innerHTML.indexOf(o)&&(a=se(s,n,""));var l=e.parentNode;a||(a=se(l,n,r)),a||(a=se(l&&"body"!==l.tagName&&l.parentNode,n,r)),a&&(ce(e,t),function(e,n){var t=e.node,o=e.index;t.innerHTML?ce(t,ie(t.innerHTML,n,o)):t.nodeValue=ie(t.nodeValue,n,o)}(a,n))}function ue(e,n){var t=e.innerHTML.replace(/(href="([^"]+)")/gi,"").replace(/\D/gi,"");return n.findIndex((function(e){return-1!==t.indexOf(e)}))}var de,fe=new Blob([$]),pe=window.URL.createObjectURL(fe);function he(e){try{var t=function(){var t=function(e){var n=e.data,t=n.links,o=n.elements,r=n.replacementId;if(i.has(r)){var a=i.get(r),c=a.linksMap,s=a.elementsMap;i.delete(r);for(var l=0;l<t.length;l+=1){var u=t[l],d=c.get(u.id);d&&(d.href=u.newHref)}for(var f=0;f<o.length;f+=1){var p=o[f],h=s.get(p.id);h&&h.innerHTML===p.prevText&&("full"===p.replacedText.type?ce(h,p.replacedText.value):le(h,p.replacedText))}}},o=function(){var n=z({data:{links:d,elements:f,params:e,replacementId:v},noPost:!0});t(n)},r=e.map((function(e){return e.phone_number})),a=new Set(r).size!==r.length,c={};a&&r.forEach((function(e,n){c[n]=r.reduce((function(t,o,r){return r!==n&&o===e&&t.push(r),t}),[])}));for(var i=new Map,s=new Set,l=new Map,u=new Map,d=[],f=[],p=0,h=0,m=0;m<e.length;m+=1)("body"===e[m].selector?[document]:te(e[m].selector)).forEach((function(t){s.has(t)||(s.add(t),t.querySelectorAll("a").forEach((function(e){e.href&&"string"==typeof e.href&&(l.set(p,e),d.push({id:p,content:"",href:e.href||""}),p++)})),t.querySelectorAll(oe.join("")).forEach((function(t){var o=n()(t.childNodes);if(!re.includes(t.tagName)&&o.some((function(e){return 3===e.nodeType&&/\d/.test(e.nodeValue)}))){var i=ue(t,r);if(-1!==i){a&&-1===t.innerHTML.indexOf(e[i].phone_code)&&c[i].length&&(i=c[i].find((function(n){return-1!==t.innerHTML.indexOf(e[n].phone_code)}))||i);var s=e[i],l=s.phone_code,d=s.phone_number;if(-1!==t.innerHTML.indexOf(l))u.set(h,t),f.push({id:h,content:t.innerHTML,oldPhoneIndex:i});else{for(var p=t.parentNode,m=0,v=!1;p&&"BODY"!==p.tagName&&m<3;)if(p.innerHTML&&-1!==p.innerHTML.indexOf(l)){var g=p.innerHTML.replace(/\D/gi,""),y=g.indexOf(d);g.indexOf(l)<y?(m=3,u.set(h,p),f.push({id:h,content:p.innerHTML,oldPhoneIndex:i}),v=!0):(p=p.parentNode,m++)}else p=p.parentNode,m++;v||(u.set(h,t),f.push({id:h,content:t.innerHTML,oldPhoneIndex:i}))}h++}}})))}));var v=Date.now();i.set(v,{linksMap:l,elementsMap:u});var g=!!window.document.documentMode;if("function"!=typeof window.Worker||g)return{v:o()};try{de||(de=new Worker(pe)),de.onmessage=t,de.postMessage({links:d,elements:f,params:e,replacementId:v})}catch(e){o()}}();if("object"===W()(t))return t.v}catch(e){console.warn("Calltouch matcher error: ",e)}}var me=function(e,n){var t;try{var o=function(n){var o=!0,r=!1,a=void 0;try{for(var c,i=n[Symbol.iterator]();!(o=(c=i.next()).done);o=!0){var s=c.value;"childList"===s.type&&s.addedNodes.length&&(window.clearTimeout(t),t=window.setTimeout(he.bind(null,e.params),300))}}catch(e){r=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(r)throw a}}};he(e.params),"complete"!==document.readyState&&(0,C.v)(window,"load",he.bind(null,e.params)),e.useObserver&&r.e(95).then(r.bind(r,7095)).then((function(e){e.default(o)})).catch((function(e){console.warn("Calltouch Error: MutationObserver failed to load: ",e)}))}catch(e){console.warn("Calltouch matcher error: ",e)}};function ve(e,n){e&&e.innerHTML&&(e.innerHTML=n)}function ge(e,n){if(e){if(e.childNodes.length){var t="class"===n.type?e.querySelectorAll(".".concat(n.selector)):e.querySelector("#".concat(n.selector));t&&("class"===n.type?t.forEach((function(e){return ve(e,n.value)})):ve(t,n.value))}var o=e.classList,r=e.id;"class"===n.type&&o&&o.contains(n.selector)&&ve(e,n.value),r&&e.getAttribute("id")===n.selector&&ve(e,n.value)}}var ye=function(e){function n(n){var t=!0,o=!1,r=void 0;try{for(var a,c=n[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var i=a.value;"childList"===i.type&&i.addedNodes.length&&i.addedNodes.forEach((function(n){ge(n,e)}))}}catch(e){o=!0,r=e}finally{try{t||null==c.return||c.return()}finally{if(o)throw r}}}if(e.selector&&e.selector.length)try{!function(e){if("class"===e.type){var n=document.querySelectorAll(".".concat(e.selector));n&&n.length&&n.forEach((function(n){ve(n,e.value)}))}else{var t=document.querySelector("#".concat(e.selector));t&&ve(t,e.value)}}(e),e.useObserver&&r.e(95).then(r.bind(r,7095)).then((function(e){e.default(n)})).catch((function(e){console.log("Calltouch Error: MutationObserver failed to load: ",e)}))}catch(e){console.log("Calltouch Error: ",e)}else console.log("Calltouch Error: selector cannot be empty")};r.p=function(){var e="mod.calltouch.ru",n="https://mod.calltouch.ru/";if(n.includes(e)){var t=document.currentScript,o=t&&t.src.split("/")[2];o&&(n=n.replace(e,o))}return n}(),function(e,t){"function"!=typeof NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var r,a,i,u,d,f,m,v=e.CalltouchDataObject||"ct",b=!!e.CalltouchDataObject,N=b&&e[v].callbacks&&void 0===e[v].loaded,x={},P=[],L=[],E=[],A=t.URL,D=new Date,Z=(0,p.Z)("_ct_server")||null,U=(0,p.Z)("_ct")||null;Z&&U!==Z&&(O("_ct",Z,{expires:T(1)}),U=Z);var q=Q(),K=q.checkIntegrations,V=q.integrationsToSend,F=q.updateIntegrations,Y=q.updateCookie;if((!b||N||e[v]&&"boolean"==typeof e[v].loaded&&!e[v].loaded)&&(P=b?e[v].callbacks:[],(L=b&&!N?e[v].counters:[s()]).forEach((function(e){E.push({counter:e,isLoaded:!1})})),e[v]=function(){var p,b,C={},T={},O=new Promise((function(e,n){p=e,b=n})),P=null;function Z(e,n){var t=Object.keys(C);if(0===t.length||!n)return{siteId:null,sessionId:null};var o=e?C[t[0]]||{}:C[n]||{};return{siteId:Number(o.siteId),sessionId:Number(o.sessionId)}}function q(e){r={},a={};var n={counters:L,loaded:E,checkIntegrations:K,integrationsToSend:V,calltouchObject:v,updateCookie:Y};_(e),g(n)}function Q(e,n,t){var o,r=e&&"withSubPools"===e?Object.keys(C[n].phones||{}).filter((function(e){return C[n].phones[e].subPoolName.length>0})).map((function(e){return{subPoolId:e,subPoolName:C[n].phones[e].subPoolName,phoneNumber:C[n].phones[e].phoneNumber}})):void 0,a=r?"phonesAndSubpools":"phoneNumbers",i=r||Object.keys(C[n].phones||{}).filter((function(e){return C[n].phones[e].subPoolName.length>0})).map((function(e){return C[n].phones[e].phoneNumber}));return o={modId:n,siteId:C[n].siteId,sessionId:C[n].sessionId,ctClientId:C[n].ctClientId},c()(o,a,i),c()(o,"ctGlobalId",t),o}function W(e,n,t){if(n.callback&&"function"==typeof n.callback){var o=Array.isArray(e);n.callback(o,o?e.map((function(e){return{subPoolId:e.subPoolId,subPoolName:e.subPoolName,phoneNumber:e.phoneNumber}})):e)}Array.isArray(e)&&(e.forEach((function(e){C[t.modId].phones[e.subPoolId]={phoneId:e.phoneId,phoneNumber:e.phoneNumber,subPoolName:e.subPoolName,phoneBody:e.phoneBody,phoneCode:e.phoneCode}})),j({modId:t.modId,sessionId:t.sessionId,endSessionTime:C[t.modId].endSessionTime,phones:C[t.modId].phones,domain:C[t.modId].domain}))}var z=l(v),$=z.addNoDataQueueRecord,ee=z.clearNoDataQueue,ne={create_session:function(e){var n=e.siteId,o=e.sessionId,r=e.modId,a=e.setCookie,c=e.endSessionTime,i=e.phones,s=e.domain,l=e.GA4,u=e.dataGoEnabled,d=e.setCtCookie,f=e.setLkCookie,h=e.denialTime,m=e.calltouchDnsHost;x.session=e,M({siteId:n,sessionId:o,modId:r,setBackendCookie:a,setCtCookie:d,setLkCookie:f,endSessionTime:c,phones:i,domain:s,denialTime:h,calltouchDnsHost:m,calltouchObject:v}),U=d,A=t.URL,F(r,o,n),ee(r,Object.keys(ne)),S(o,r,n).then((function(e){P=e,p()})).catch((function(e){console.error("Calltouch global cookie error: ",e),b()})),l&&l.length&&function(e,n){try{H=e,R=n,G()}catch(e){console.log(e)}}(l,{siteId:n,sessionId:o,modId:r}),u&&X({siteId:n,sessionId:o,modId:r})},goal:function(){try{var e=[].slice.call(arguments),n=e[0],t="boolean"==typeof e[1]?e[1]:Boolean(T.goal)||Boolean(T.send_goal),o="boolean"==typeof e[1]?e[2]:e[1];D=new Date;var r=o.siteId,a=o.sessionId,c=o.modId;if("form.submit"===n){var i="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/auto_goal_event.php"),s={siteId:r,sessionId:a,goalTypeId:7};(0,w.ZP)(i,s,null,t)}else if(n){var l="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/goal_event.php"),u={goalAlias:n,siteId:r,sessionId:a,modId:c};(0,w.ZP)(l,u,null,t)}}catch(e){console.error("Calltouch goal error: ",e)}},set_attrs:function(){try{var e=[].slice.call(arguments),n=e[0],t="boolean"==typeof e[1]?e[1]:Boolean(T.set_attrs),o="boolean"==typeof e[1]?e[2]:e[1];D=new Date;var r="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/set_attrs.php"),a=o.siteId,c=o.sessionId,i=o.modId;if(n){var s={attrs:n,siteId:a,sessionId:c,modId:i};(0,w.ZP)(r,s,null,t)}}catch(e){console.error("Calltouch set_attrs error: ",e)}},send_ecommerce:function(){try{var e=[].slice.call(arguments),n=e[0],t=e[1],o="boolean"==typeof e[2]?e[2]:Boolean(T.send_ecommerce),r="boolean"==typeof e[2]?e[3]:e[2];D=new Date;var a=r.siteId,c=r.sessionId,i=r.modId,s=r.ctClientId,l="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/ecommerce.php");n&&"string"==typeof n||console.error("Calltouch eCommerce error: no type found"),"refund"===n||t&&t.products&&Array.isArray(t.products)&&0!==t.products.length||console.error("Calltouch eCommerce error: no products found"),a||console.error("Calltouch eCommerce error: no siteId found"),c||console.error("Calltouch eCommerce error: no sessionId found"),"refund"!==n&&"purchase"!==n||t&&t.id||console.error("Calltouch eCommerce error: no operation id found");var u=void 0;"purchase"===n&&t.manager&&t.manager.length&&(u=t.manager.length>50?t.manager.substr(0,50):t.manager);var d={siteId:a,sessionId:c,modId:i,ctClientId:s,eventType:n,id:t.id,products:t?t.products:[],manager:u,fio:t&&t.fio||null,email:t&&t.email||null,phoneNumber:t&&t.phoneNumber||null,comment:t&&t.comment||null,addTags:t&&t.addTags||[]};(0,w.ZP)(l,d,(function(){}),o)}catch(e){console.error("Calltouch send_ecommerce error: ",e)}},modules:function(){var e=arguments[1];return"isLoaded"===e&&void 0===I.apply(void 0,[v].concat(Array.prototype.slice.call(arguments)))?(I.apply(void 0,[v].concat(Array.prototype.slice.call(arguments))),!1):I.apply(void 0,[v].concat(Array.prototype.slice.call(arguments)))},init_criteo:function(e){B(e)},append_pixel:function(e){J(e)},calltracking_params:function(e,n,t){return t&&"withPromise"===t?new Promise((function(t){O.then((function(){var o="string"==typeof e&&C[e]?Q(n,e,P):Object.keys(C).map((function(e){return Q(n,e,P)}));t(o)})).catch((function(){var o="string"==typeof e&&C[e]?Q(n,e,null):Object.keys(C).map((function(e){return Q(n,e,null)}));t(o)}))})):"string"==typeof e&&C[e]?Q(n,e,P):Object.keys(C).map((function(e){return Q(n,e,P)}))},set_replacement_params:function(e,n){r||(r={},a={}),r[n.modId]=e.params,i=i?i>60*e.pool_time?60*e.pool_time:i:60*e.pool_time},calltracking_patterns:function(n,a){return new Promise((function(c,s){if(E.every((function(e){return e.isLoaded}))||s({error:!0,errorText:"Replacement is updating"}),(new Date-D)/1e3>i||t.URL!==A){r=void 0,D=new Date,E=E.map((function(e){return o()({},e,{isLoaded:!1})})),q(!1);var l=0,u=setInterval((function(){10!==(l+=1)||r&&(!r||r[a.modId])||(e.clearInterval(u),s({error:!0,errorText:"Could not fetch data"})),r&&r[a.modId]&&(e.clearInterval(u),y(r,n,a,c,s))}),300)}else r||s({error:!0,errorText:"No params found"}),y(r,n,a,c,s)}))},calltracking_replacement_params:function(e){return{params:r[e],replacementFlatParams:a}},reload:function(){q(!0)},set_sync:function(e){try{e&&Array.isArray(e)&&e.forEach((function(e){T[e]=!0}))}catch(e){console.error("Calltouch set_sync error: ",e)}},get_widget_route_key_data:function(){try{var e=[].slice.call(arguments),n=e[0],o=e[1],r="boolean"==typeof e[2]?e[2]:Boolean(T.get_widget_route_key_data),a="boolean"==typeof e[2]?e[3]:e[2],c=1e6*Math.random(),i="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/callback_widget_user_form_find.php?siteId=").concat(a.siteId,"&routeKey=").concat(n,"&pageUrl=").concat(t.location.href,"&sessionId=").concat(a.sessionId);k("".concat(i,"&rand=").concat(Math.floor(c)),null,o,r)}catch(e){console.error("Calltouch get_route_key_data error: ",e)}},create_widget_request:function(){try{var e=[].slice.call(arguments),n=e[0],r="boolean"==typeof e[1]?e[1]:Boolean(T.create_widget_request),a="boolean"==typeof e[1]?e[2]:e[1],c=1e6*Math.random(),i=o()({siteId:a.siteId,sessionId:a.sessionId,workMode:1,pageUrl:t.location.href},n),s="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/callback_request_user_form_create.php?rand=").concat(Math.floor(c));k(s,JSON.stringify(i),n.callback,r)}catch(e){console.error("Calltouch create_request error: ",e)}},init_matcher_replacement:function(e,n){u=performance.now(),me(e),d=performance.now()},replace:function(e,n){f=performance.now(),ye(e),m=performance.now()},get_matcher_replacement_time:function(){return d&&u?d-u:"подмена не была запущена или время не удалось установить"},get_replacement_time:function(){return f&&m?m-f:"подмена не была запущена или время не удалось установить"},dynamic_replacement:function(e,n){!function(e,n,t){var o="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/dynamic_replacement.php"),r={siteId:n.siteId,sessionId:n.sessionId},a=e.subPoolNamesContains?Array.isArray(e.subPoolNamesContains)?e.subPoolNamesContains:[e.subPoolNamesContains]:null;if(a&&a.length)r.subPoolNamesContains=a;else{var c=e.subPoolNames?Array.isArray(e.subPoolNames)?e.subPoolNames:[e.subPoolNames]:null;r.subPoolNames=c}(0,w.ZP)(o,r,(function(o,r){!o&&e.callback&&"function"==typeof e.callback?e.callback(!1,{type:"unknown_error"}):t(JSON.parse(r),e,n)}),!1)}(e,n,W)}};return function(){var e=[].slice.call(arguments);if("getSharedData"===e[0])return x;var t=N&&e[0].method||ne[e[0]],r=Object.keys(C),a=t?e[0].method||e[0]:e[1],i=t?e[0].args||e.slice(1):e.slice(2),l=t?r.length?r[0]:null:e[0];-1===l&&(l=r[0]||s());var u=Z(t,l),d=u.siteId,f=u.sessionId;if("create_session"===a){var p=Object.keys(i[0].phones).reduce((function(e,n){return i[0].phones[n].subPoolName?o()({},e,c()({},n,i[0].phones[n])):e}),{});C[i[0].modId]={siteId:i[0].siteId,sessionId:i[0].sessionId,endSessionTime:i[0].endSessionTime,domain:i[0].domain,ctClientId:i[0].setCtCookie,phones:p},ne[a].apply(ne,n()(i))}else{if("modules"===a&&("widgets"===i[0]||"forms"===i[0]||"dataLayer"===i[0]))return ne[a].apply(ne,n()(i).concat([{modId:l,siteId:d,sessionId:f,ctClientId:U}]));if(d&&f)return ne[a].apply(ne,n()(i).concat([{modId:l,siteId:d,sessionId:f,ctClientId:U}]));$(l,a,i)}}}(),function(){var t;if(P&&P.length)for(;t=P.shift();)e[v].apply(e,n()([].slice.call(t)))}()),e.ct_create_session=function(n){e[v]("create_session",n)},e.ct_goal=function(n){e[v]("goal",n)},e.ct_set_attrs=function(n){e[v]("set_attrs",n)},L&&L.length>0){var W={counters:L,loaded:E,checkIntegrations:K,integrationsToSend:V,calltouchObject:v,updateCookie:Y};"interactive"===t.readyState||"complete"===t.readyState?g(W):(0,C.v)(t,"DOMContentLoaded",g.bind(null,W))}}(window,document)}()}();